{"version":3,"sources":["webpack/bootstrap 94d5cfec379e7ab92ff6","./frontend/twitter.js","./frontend/follow_toggle.js","./frontend/users_search.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;AACH,EAAC,E;;;;;;ACZD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,qBAAoB;AACpB;;AAEA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAoB,YAAY;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA,+BAA8B,8B;;;;;;;;AC5D9B;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS,yBAAyB;AAClC;AACA,IAAG;AACH;;AAEA;AACA,mBAAkB;;AAElB;AACA;AACA,gDAA+C,QAAQ;;AAEvD;AACA;AACA,IAAG;AACH;;AAEA;;;AAGA;AACA;AACA;AACA;;;AAGA,8B","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 94d5cfec379e7ab92ff6","const FollowToggle = require('./follow_toggle');\nconst UsersSearch = require('./users_search');\n\n// Document ready callback \n$(()=> {\n $('.follow-toggle').each((i, button) => {\n\t    new FollowToggle(button);\n\t });\n\n  $('.users-search').each((i, search) => {\n\t    new UsersSearch(search);\n\t });\n}); \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./frontend/twitter.js\n// module id = 0\n// module chunks = 0","class FollowToggle {\n\tconstructor(el){\n\t\tthis.el = $(el);\n\t\tthis.userId= this.el.data('user-id');\n\t\tthis.followState = this.el.data('initial-follow-state') \n\t\tthis.render();\n\n\t\tthis.el.click(this.handleClick.bind(this));\n\t}\n\n\t  handleClick(event) {\n    event.preventDefault();\n\n    if (this.followState === \"followed\") {\n      this.followState = \"unfollowing\";\n      this.render(); // \"\"\n      this.makeRequest(\"DELETE\", \"unfollowed\")\n\n    } else if (this.followState === \"unfollowed\") {\n      this.followState = \"following\";\n      this.render();\n      this.makeRequest(\"POST\", \"followed\")\n    }\n  }\n\n  makeRequest(type, followState){\n  \tconst that = this;\n  \t$.ajax({\n\t    url: `/users/${this.userId}/follow`,\n\t    dataType: \"json\",\n\t    method: type,\n\t    success() {\n\t      that.followState = followState;\n\t      that.render();\n\t    }\n\t  });\n\t}\n\n  render() {\n    switch(this.followState){\n      case \"followed\":\n        this.el.prop(\"disabled\", false);\n        this.el.html(\"Unfollow!\");\n        break;\n      case \"unfollowed\":\n        this.el.prop(\"disabled\", false);\n        this.el.html(\"Follow!\");\n        break;\n      case \"following\":\n        this.el.prop(\"disabled\", true);\n        this.el.html(\"Following...\");\n        break;\n      case \"unfollowing\":\n        this.el.prop(\"disabled\", true);\n        this.el.html(\"Unfollowing...\");\n        break;\n    }\n  }\n\n}\n\n\nmodule.exports = FollowToggle; // this makes it require-able\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./frontend/follow_toggle.js\n// module id = 1\n// module chunks = 0","\n\nconst FollowToggle = require('./follow_toggle');\n\nclass UsersSearch{\n\tconstructor(el){\n\t\tthis.el = $(el);\n    this.input = this.el.find(\"input[name=username]\");\n    this.ul = this.el.find(\".users\");\n\n    this.input.on(\"input\", this.handleInput.bind(this));\n}\n\n// Write a UsersSearch#handleInput handler. On each input event, make an AJAX request to \n// /users/search, sending the input's val as the query parameter. You can send query \n// parameters along with an $.ajax call through the data option. Don't forget to set \n// dataType!\nhandleInput(event){\n\n\tif (this.input.val() === \"\"){\n\t\tthis.renderResults([]);\n\t\treturn;\n\t}\n\n\t$.ajax({\n\t\turl: '/users/search', \n\t\tdataType: 'json',\n\t\tmethod: 'GET',\n\t\tdata: { query: this.input.val()},\n\t\tsuccess: this.renderResults.bind(this)\n\t\t});\n\t}\n\n\trenderResults(users){\n\t\tthis.ul.empty(); // same as .html(\"\") but faster\n\n\t\t$(users).each((i,user) =>{\n\t\t\tlet li = $('<li></li>');\n\t\t\tlet a = $('<a></a>').attr('href', `/users/${user.id}`).html(user.username);\n\t\t\t\n\t\t\tli.append(a);\n\t\t\tthis.ul.append(li);\n\t\t})\n}\n\t\n}\n\n\n// Now, let's set up your controller to respond to AJAX requests with JSON. Because your \n// controller will be handling both HTML and JSON requests, let's separate out each of those \n// types of requests and respond to them separately. Put the following code into your \n// controller to replace the line reading render :search:\n\n\nmodule.exports = UsersSearch; \n\n\n//////////////////\n// WEBPACK FOOTER\n// ./frontend/users_search.js\n// module id = 2\n// module chunks = 0"],"sourceRoot":""}